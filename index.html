<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>Calculadora de Balanço Hídrico | Santa Casa Piracicaba</title>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" as="style">
    <link rel="preload" href="static/css/healthcare-theme.css" as="style">
    
    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self';
        script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net;
        style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://fonts.googleapis.com;
        font-src 'self' https://cdn.jsdelivr.net https://fonts.gstatic.com;
        img-src 'self' data:;
        connect-src 'self';
        frame-ancestors 'none';
        base-uri 'self';
        form-action 'self';
    ">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2563eb">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Balanço Hídrico">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="static/img/favicon.svg">
    <link rel="icon" type="image/png" href="static/img/favicon.png">
    
    <!-- Fonts & Styles -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <link href="static/css/healthcare-theme.css" rel="stylesheet">
    
    <!-- SEO & Accessibility -->
    <meta name="description" content="Calculadora profissional de balanço hídrico para equipes médicas. Interface otimizada para dispositivos móveis e ambientes hospitalares.">
    <meta name="keywords" content="balanço hídrico, calculadora médica, UTI, pediatria, Santa Casa Piracicaba">
    <meta name="author" content="Santa Casa de Piracicaba">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Calculadora de Balanço Hídrico - Santa Casa Piracicaba">
    <meta property="og:description" content="Ferramenta profissional para cálculo de balanço hídrico em ambiente hospitalar">
    <meta property="og:type" content="website">
    <meta property="og:image" content="static/img/og-image.jpg">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen" aria-hidden="true">
        <div class="loading-spinner"></div>
        <p>Carregando calculadora...</p>
    </div>

    <!-- Skip Navigation -->
    <a href="#main-content" class="sr-only" tabindex="1">Pular para o conteúdo principal</a>

    <!-- Header -->
    <header class="healthcare-header" role="banner">
        <div class="healthcare-container">
            <a href="#" class="healthcare-logo" aria-label="Santa Casa Piracicaba - Página inicial">
                <i class="bi bi-heart-pulse-fill" aria-hidden="true"></i>
                <div>
                    <div>Calculadora de Balanço Hídrico</div>
                    <div class="healthcare-badge">Santa Casa Piracicaba</div>
                </div>
            </a>
            <div class="healthcare-status" id="connection-status" aria-live="polite">
                <span class="status-indicator online" aria-label="Status: Online"></span>
                <span class="status-text">Online</span>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main id="main-content" class="healthcare-container" role="main">
        
        <!-- Progress Indicator -->
        <div class="progress-container" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" aria-label="Progresso do preenchimento">
            <div class="progress-bar" id="progress-bar"></div>
            <div class="progress-text" id="progress-text">0% concluído</div>
        </div>

        <!-- Period Selection -->
        <section class="healthcare-card period-selection" role="region" aria-labelledby="period-title">
            <div class="healthcare-card-header">
                <h2 id="period-title" class="healthcare-card-title">
                    <i class="bi bi-clock" aria-hidden="true"></i>
                    Período de Avaliação
                </h2>
            </div>
            <div class="healthcare-card-body">
                <fieldset>
                    <legend class="sr-only">Selecione o período de avaliação</legend>
                    <div class="period-options" role="radiogroup" aria-labelledby="period-title">
                        <label class="period-option">
                            <input type="radio" name="timeframe" value="12" id="period-12">
                            <span class="period-label">12 horas</span>
                            <span class="period-description">Turno padrão</span>
                        </label>
                        <label class="period-option">
                            <input type="radio" name="timeframe" value="24" id="period-24" checked>
                            <span class="period-label">24 horas</span>
                            <span class="period-description">Período completo</span>
                        </label>
                    </div>
                </fieldset>
            </div>
        </section>

        <!-- Progressive Form -->
        <form class="healthcare-form" id="hydric-balance-form" novalidate>
            
            <!-- Section 1: Patient Information -->
            <section class="healthcare-section active" id="section-patient" role="region" aria-labelledby="patient-title">
                <header class="healthcare-section-header" tabindex="0" role="button" aria-expanded="true" aria-controls="patient-content">
                    <h2 class="healthcare-section-title" id="patient-title">
                        <span class="healthcare-section-step" aria-hidden="true">1</span>
                        <span>Dados do Paciente</span>
                        <i class="bi bi-chevron-down section-icon" aria-hidden="true"></i>
                    </h2>
                </header>
                <div class="healthcare-section-content" id="patient-content">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="patient-name" class="form-label required">Nome do Paciente</label>
                            <input 
                                type="text" 
                                id="patient-name" 
                                class="form-control" 
                                placeholder="Digite o nome completo"
                                required
                                aria-describedby="patient-name-help"
                                autocomplete="name"
                            >
                            <div id="patient-name-help" class="form-help">
                                <i class="bi bi-info-circle" aria-hidden="true"></i>
                                Ex: João Silva ou RN de Maria
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="patient-bed" class="form-label">Leito</label>
                            <input 
                                type="text" 
                                id="patient-bed" 
                                class="form-control" 
                                placeholder="Número do leito"
                                aria-describedby="patient-bed-help"
                            >
                            <div id="patient-bed-help" class="form-help">
                                <i class="bi bi-info-circle" aria-hidden="true"></i>
                                Ex: 101, UTI-05, Quarto 12
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="patient-weight" class="form-label required">Peso (kg)</label>
                            <input 
                                type="number" 
                                id="patient-weight" 
                                class="form-control" 
                                placeholder="0.0"
                                step="0.1"
                                min="0.1"
                                max="300"
                                required
                                aria-describedby="patient-weight-help"
                            >
                            <div id="patient-weight-help" class="form-help">
                                <i class="bi bi-info-circle" aria-hidden="true"></i>
                                Peso atual do paciente em quilogramas
                            </div>
                        </div>
                    </div>
                    
                    <div class="section-actions">
                        <button type="button" class="healthcare-button primary" onclick="nextSection('measurements')">
                            <span>Próximo: Medições</span>
                            <i class="bi bi-arrow-right" aria-hidden="true"></i>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Section 2: Measurements -->
            <section class="healthcare-section" id="section-measurements" role="region" aria-labelledby="measurements-title">
                <header class="healthcare-section-header" tabindex="0" role="button" aria-expanded="false" aria-controls="measurements-content">
                    <h2 class="healthcare-section-title" id="measurements-title">
                        <span class="healthcare-section-step" aria-hidden="true">2</span>
                        <span>Sinais Vitais e Medições</span>
                        <i class="bi bi-chevron-down section-icon" aria-hidden="true"></i>
                    </h2>
                </header>
                <div class="healthcare-section-content" id="measurements-content">
                    <div class="measurements-grid">
                        <div class="form-group">
                            <label for="heart-rate" class="form-label">
                                <i class="bi bi-heart-pulse" aria-hidden="true"></i>
                                Frequência Cardíaca
                            </label>
                            <div class="input-with-unit">
                                <input type="number" id="heart-rate" class="form-control" placeholder="--" min="0" max="300">
                                <span class="input-unit">bpm</span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="respiratory-rate" class="form-label">
                                <i class="bi bi-lungs" aria-hidden="true"></i>
                                Frequência Respiratória
                            </label>
                            <div class="input-with-unit">
                                <input type="number" id="respiratory-rate" class="form-control" placeholder="--" min="0" max="100">
                                <span class="input-unit">irpm</span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="oxygen-saturation" class="form-label">
                                <i class="bi bi-circle-fill" aria-hidden="true"></i>
                                Saturação de Oxigênio
                            </label>
                            <div class="input-with-unit">
                                <input type="number" id="oxygen-saturation" class="form-control" placeholder="--" min="0" max="100">
                                <span class="input-unit">%</span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="temperature" class="form-label">
                                <i class="bi bi-thermometer-half" aria-hidden="true"></i>
                                Temperatura
                            </label>
                            <div class="input-with-unit">
                                <input type="number" id="temperature" class="form-control" placeholder="--" step="0.1" min="30" max="45">
                                <span class="input-unit">°C</span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="blood-pressure" class="form-label">
                                <i class="bi bi-activity" aria-hidden="true"></i>
                                Pressão Arterial Média
                            </label>
                            <div class="input-with-unit">
                                <input type="number" id="blood-pressure" class="form-control" placeholder="--" min="0" max="200">
                                <span class="input-unit">mmHg</span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="glucose" class="form-label">
                                <i class="bi bi-droplet" aria-hidden="true"></i>
                                Glicemia Capilar
                            </label>
                            <div class="input-with-unit">
                                <input type="number" id="glucose" class="form-control" placeholder="--" min="0" max="600">
                                <span class="input-unit">mg/dL</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="section-actions">
                        <button type="button" class="healthcare-button secondary" onclick="previousSection('patient')">
                            <i class="bi bi-arrow-left" aria-hidden="true"></i>
                            <span>Voltar</span>
                        </button>
                        <button type="button" class="healthcare-button primary" onclick="nextSection('values')">
                            <span>Próximo: Valores</span>
                            <i class="bi bi-arrow-right" aria-hidden="true"></i>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Section 3: Hydric Balance Values -->
            <section class="healthcare-section" id="section-values" role="region" aria-labelledby="values-title">
                <header class="healthcare-section-header" tabindex="0" role="button" aria-expanded="false" aria-controls="values-content">
                    <h2 class="healthcare-section-title" id="values-title">
                        <span class="healthcare-section-step" aria-hidden="true">3</span>
                        <span>Entradas e Saídas</span>
                        <i class="bi bi-chevron-down section-icon" aria-hidden="true"></i>
                    </h2>
                </header>
                <div class="healthcare-section-content" id="values-content">
                    
                    <div class="values-grid">
                        <!-- Inputs Section -->
                        <div class="values-section inputs">
                            <h3 class="values-section-title success">
                                <i class="bi bi-arrow-down-circle" aria-hidden="true"></i>
                                Entradas
                            </h3>
                            
                            <!-- Diet -->
                            <div class="calculation-field" data-field="diet">
                                <label class="calculation-label">
                                    <i class="bi bi-cup-straw" aria-hidden="true"></i>
                                    Dieta (ml)
                                </label>
                                <div class="calculation-input-group">
                                    <input 
                                        type="text" 
                                        id="diet-input" 
                                        class="calculation-input" 
                                        placeholder="Ex: 150+50 ou 200"
                                        aria-describedby="diet-help"
                                    >
                                    <button type="button" class="calculation-button primary" onclick="addCalculationValue('diet')" aria-label="Adicionar valor de dieta">
                                        <i class="bi bi-plus" aria-hidden="true"></i>
                                    </button>
                                    <button type="button" class="calculation-button danger" onclick="clearCalculationField('diet')" aria-label="Limpar valores de dieta">
                                        <i class="bi bi-trash" aria-hidden="true"></i>
                                    </button>
                                </div>
                                <div id="diet-help" class="form-help">
                                    Use + para somar valores: 100+50+25
                                </div>
                                <div class="calculation-list" id="diet-list" role="list" aria-label="Lista de valores de dieta"></div>
                                <div class="calculation-total" id="diet-total" aria-live="polite">Total: 0 ml</div>
                                <input type="hidden" id="diet" value="0">
                            </div>

                            <!-- Serum -->
                            <div class="calculation-field" data-field="serum">
                                <label class="calculation-label">
                                    <i class="bi bi-droplet-fill" aria-hidden="true"></i>
                                    Soro (ml)
                                </label>
                                <div class="calculation-input-group">
                                    <input 
                                        type="text" 
                                        id="serum-input" 
                                        class="calculation-input" 
                                        placeholder="Ex: 500+200 ou 700"
                                        aria-describedby="serum-help"
                                    >
                                    <button type="button" class="calculation-button primary" onclick="addCalculationValue('serum')" aria-label="Adicionar valor de soro">
                                        <i class="bi bi-plus" aria-hidden="true"></i>
                                    </button>
                                    <button type="button" class="calculation-button danger" onclick="clearCalculationField('serum')" aria-label="Limpar valores de soro">
                                        <i class="bi bi-trash" aria-hidden="true"></i>
                                    </button>
                                </div>
                                <div id="serum-help" class="form-help">
                                    Inclua todos os tipos de soro administrado
                                </div>
                                <div class="calculation-list" id="serum-list" role="list" aria-label="Lista de valores de soro"></div>
                                <div class="calculation-total" id="serum-total" aria-live="polite">Total: 0 ml</div>
                                <input type="hidden" id="serum" value="0">
                            </div>

                            <!-- Medication -->
                            <div class="calculation-field" data-field="medication">
                                <label class="calculation-label">
                                    <i class="bi bi-prescription2" aria-hidden="true"></i>
                                    Medicação (ml)
                                </label>
                                <div class="calculation-input-group">
                                    <input 
                                        type="text" 
                                        id="medication-input" 
                                        class="calculation-input" 
                                        placeholder="Ex: 10+5 ou 15"
                                        aria-describedby="medication-help"
                                    >
                                    <button type="button" class="calculation-button primary" onclick="addCalculationValue('medication')" aria-label="Adicionar valor de medicação">
                                        <i class="bi bi-plus" aria-hidden="true"></i>
                                    </button>
                                    <button type="button" class="calculation-button danger" onclick="clearCalculationField('medication')" aria-label="Limpar valores de medicação">
                                        <i class="bi bi-trash" aria-hidden="true"></i>
                                    </button>
                                </div>
                                <div id="medication-help" class="form-help">
                                    Volume líquido de medicações
                                </div>
                                <div class="calculation-list" id="medication-list" role="list" aria-label="Lista de valores de medicação"></div>
                                <div class="calculation-total" id="medication-total" aria-live="polite">Total: 0 ml</div>
                                <input type="hidden" id="medication" value="0">
                            </div>
                        </div>

                        <!-- Outputs Section -->
                        <div class="values-section outputs">
                            <h3 class="values-section-title danger">
                                <i class="bi bi-arrow-up-circle" aria-hidden="true"></i>
                                Saídas
                            </h3>
                            
                            <!-- Diuresis -->
                            <div class="calculation-field" data-field="diuresis">
                                <label class="calculation-label">
                                    <i class="bi bi-droplet" aria-hidden="true"></i>
                                    Diurese (ml)
                                </label>
                                <div class="calculation-input-group">
                                    <input 
                                        type="text" 
                                        id="diuresis-input" 
                                        class="calculation-input" 
                                        placeholder="Ex: 120+80 ou 200"
                                        aria-describedby="diuresis-help"
                                    >
                                    <button type="button" class="calculation-button primary" onclick="addCalculationValue('diuresis')" aria-label="Adicionar valor de diurese">
                                        <i class="bi bi-plus" aria-hidden="true"></i>
                                    </button>
                                    <button type="button" class="calculation-button danger" onclick="clearCalculationField('diuresis')" aria-label="Limpar valores de diurese">
                                        <i class="bi bi-trash" aria-hidden="true"></i>
                                    </button>
                                </div>
                                <div id="diuresis-help" class="form-help">
                                    Volume total de urina coletada
                                </div>
                                <div class="calculation-list" id="diuresis-list" role="list" aria-label="Lista de valores de diurese"></div>
                                <div class="calculation-total" id="diuresis-total" aria-live="polite">Total: 0 ml</div>
                                <input type="hidden" id="diuresis" value="0">
                            </div>

                            <!-- Gastric Residue -->
                            <div class="calculation-field" data-field="gastric-residue">
                                <label class="calculation-label">
                                    <i class="bi bi-circle-square" aria-hidden="true"></i>
                                    Resíduo Gástrico (ml)
                                </label>
                                <div class="calculation-input-group">
                                    <input 
                                        type="text" 
                                        id="gastric-residue-input" 
                                        class="calculation-input" 
                                        placeholder="Ex: 30+20 ou 50"
                                        aria-describedby="gastric-residue-help"
                                    >
                                    <button type="button" class="calculation-button primary" onclick="addCalculationValue('gastric-residue')" aria-label="Adicionar valor de resíduo gástrico">
                                        <i class="bi bi-plus" aria-hidden="true"></i>
                                    </button>
                                    <button type="button" class="calculation-button danger" onclick="clearCalculationField('gastric-residue')" aria-label="Limpar valores de resíduo gástrico">
                                        <i class="bi bi-trash" aria-hidden="true"></i>
                                    </button>
                                </div>
                                <div id="gastric-residue-help" class="form-help">
                                    Volume aspirado por sonda gástrica
                                </div>
                                <div class="calculation-list" id="gastric-residue-list" role="list" aria-label="Lista de valores de resíduo gástrico"></div>
                                <div class="calculation-total" id="gastric-residue-total" aria-live="polite">Total: 0 ml</div>
                                <input type="hidden" id="gastric-residue" value="0">
                            </div>

                            <!-- Emesis -->
                            <div class="calculation-field" data-field="emesis">
                                <label class="calculation-label">
                                    <i class="bi bi-exclamation-triangle" aria-hidden="true"></i>
                                    Êmese (vezes)
                                </label>
                                <div class="calculation-input-group">
                                    <input 
                                        type="text" 
                                        id="emesis-input" 
                                        class="calculation-input" 
                                        placeholder="Ex: 2+1 ou 3"
                                        aria-describedby="emesis-help"
                                    >
                                    <button type="button" class="calculation-button primary" onclick="addCalculationValue('emesis')" aria-label="Adicionar episódios de êmese">
                                        <i class="bi bi-plus" aria-hidden="true"></i>
                                    </button>
                                    <button type="button" class="calculation-button danger" onclick="clearCalculationField('emesis')" aria-label="Limpar episódios de êmese">
                                        <i class="bi bi-trash" aria-hidden="true"></i>
                                    </button>
                                </div>
                                <div id="emesis-help" class="form-help">
                                    Número de episódios de vômito
                                </div>
                                <div class="calculation-list" id="emesis-list" role="list" aria-label="Lista de episódios de êmese"></div>
                                <div class="calculation-total" id="emesis-total" aria-live="polite">Total: 0 vezes</div>
                                <input type="hidden" id="emesis" value="0">
                            </div>

                            <!-- Evacuations -->
                            <div class="calculation-field" data-field="evacuations">
                                <label class="calculation-label">
                                    <i class="bi bi-circle" aria-hidden="true"></i>
                                    Evacuação (vezes)
                                </label>
                                <div class="calculation-input-group">
                                    <input 
                                        type="text" 
                                        id="evacuations-input" 
                                        class="calculation-input" 
                                        placeholder="Ex: 1+1 ou 2"
                                        aria-describedby="evacuations-help"
                                    >
                                    <button type="button" class="calculation-button primary" onclick="addCalculationValue('evacuations')" aria-label="Adicionar episódios de evacuação">
                                        <i class="bi bi-plus" aria-hidden="true"></i>
                                    </button>
                                    <button type="button" class="calculation-button danger" onclick="clearCalculationField('evacuations')" aria-label="Limpar episódios de evacuação">
                                        <i class="bi bi-trash" aria-hidden="true"></i>
                                    </button>
                                </div>
                                <div id="evacuations-help" class="form-help">
                                    Número de episódios de evacuação
                                </div>
                                <div class="calculation-list" id="evacuations-list" role="list" aria-label="Lista de episódios de evacuação"></div>
                                <div class="calculation-total" id="evacuations-total" aria-live="polite">Total: 0 vezes</div>
                                <input type="hidden" id="evacuations" value="0">
                            </div>
                        </div>
                    </div>
                    
                    <div class="section-actions">
                        <button type="button" class="healthcare-button secondary" onclick="previousSection('measurements')">
                            <i class="bi bi-arrow-left" aria-hidden="true"></i>
                            <span>Voltar</span>
                        </button>
                        <button type="button" class="healthcare-button primary lg full-width" onclick="calculateBalance()" id="calculate-button">
                            <i class="bi bi-calculator" aria-hidden="true"></i>
                            <span>Calcular Balanço Hídrico</span>
                        </button>
                    </div>
                </div>
            </section>
        </form>

        <!-- Results Section -->
        <section class="results-container" id="results-container" style="display: none;" role="region" aria-labelledby="results-title">
            <header class="results-header">
                <h2 id="results-title" class="results-title">
                    <i class="bi bi-clipboard-data" aria-hidden="true"></i>
                    Relatório de Balanço Hídrico
                </h2>
                <div class="results-actions">
                    <button type="button" class="healthcare-button secondary" onclick="copyResults()" id="copy-button">
                        <i class="bi bi-clipboard" aria-hidden="true"></i>
                        <span>Copiar</span>
                    </button>
                    <button type="button" class="healthcare-button secondary" onclick="printResults()">
                        <i class="bi bi-printer" aria-hidden="true"></i>
                        <span>Imprimir</span>
                    </button>
                    <button type="button" class="healthcare-button secondary" onclick="newPatient()">
                        <i class="bi bi-plus-circle" aria-hidden="true"></i>
                        <span>Novo Paciente</span>
                    </button>
                </div>
            </header>
            <div class="results-body" id="results-content">
                <!-- Results will be populated here -->
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="healthcare-footer" role="contentinfo">
        <div class="healthcare-container">
            <p>&copy; 2024 Santa Casa de Piracicaba - Calculadora de Balanço Hídrico | v2.0</p>
            <p>
                <a href="#" class="footer-link">Política de Privacidade</a> |
                <a href="#" class="footer-link">Suporte Técnico</a> |
                <a href="security-test.html" class="footer-link">Testes de Segurança</a>
            </p>
        </div>
    </footer>

    <!-- Error Toast -->
    <div id="error-toast" class="toast error" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
            <i class="bi bi-exclamation-triangle-fill" aria-hidden="true"></i>
            <strong>Erro</strong>
        </div>
        <div class="toast-body" id="error-message"></div>
    </div>

    <!-- Success Toast -->
    <div id="success-toast" class="toast success" role="alert" aria-live="polite" aria-atomic="true">
        <div class="toast-header">
            <i class="bi bi-check-circle-fill" aria-hidden="true"></i>
            <strong>Sucesso</strong>
        </div>
        <div class="toast-body" id="success-message"></div>
    </div>

    <!-- Scripts -->
    <script src="static/js/secure-math-parser.js"></script>
    <script src="static/js/calculator.js"></script>
    <script src="static/js/ui-manager.js"></script>
    <script src="static/js/form-handler.js"></script>
    <script src="static/js/healthcare-interface.js"></script>
    <script src="static/js/main.js"></script>
    
    <!-- PWA Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(registration => console.log('SW registered'))
                    .catch(registrationError => console.log('SW registration failed'));
            });
        }
    </script>
</body>
</html>